<!doctype html>
<!--
	Devvelopment on Production
	November 2012
-->
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Development on Production | Sophilabs</title>
    <meta name="description" content="Development on Production." />
    <meta name="author" content="Sophilabs" />
    <link href="css/bootstrap.css" rel="stylesheet" />
    <link href="css/base.css" rel="stylesheet" />
</head>
<body class="impress-not-supported">
    <div class="fallback-message">
        <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
        <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
    </div>

    <div id="impress">
        <div id="introduction" class="step" data-x="-4500" data-y="-1500">
            <h1><code>dev=pro</code></h1>
            <div class="names">
                <span>Sebastián Sassi<br><a href="//github.com/ssassi">@ssassi</a></span>
                <span>Pablo Ricco<br><a href="//github.com/pricco">@pricco</a></span>
            </div>
            <div class="company">
                <a href="//github.com/sophilabs">@sophilabs</a>
            </div>
        </div>
        <div id="problems" class="step" data-x="-3000" data-y="-1500">
            <h1>Problems</h1>
            <ul>
                <li><span class="minus">✘</span> Bootstrap time</li>
                <li><span class="minus">✘</span> Distinct envs</li>
                <li><span class="minus">✘</span> On changes update all envs</li>
                <li><span class="minus">✘</span> Clone envs</li>
                <li><span class="minus">✘</span> Multiple dev envs</li>
            </ul>
        </div>
        <div id="worksonmymachine" class="step" data-x="-3000" data-y="0" data-rotate="720" data-scale="2">
            <img src="http://cdn.memegenerator.net/instances/400x/23612285.jpg">
        </div>
        <div id="virtualenv" class="step slide" data-x="-1500" data-y="-1500">
            <h1>First Step: VirtualEnv</h1>
            <p class="definition"><code>virtualenv</code> is a tool to create isolated Python environments.</p>
<code class="pre console">$ virtualenv venv<br>
$ source venv/bin/activate
$ pip install Django
...
$ deactivate
</code>
            <ul>
                <li><span class="plus">+</span> Reproducible python environments</li>
                <li><span class="plus">+</span> Isolated python environments</li>
                <li><span class="minus">-</span> Only python packages</li>
            </ul>
        </div>
        <div id="puppet" class="step slide" data-x="0" data-y="-1500">
            <h1>Setup Env: Puppet</h1>
            <p class="definition">
                <code>puppet</code> helps system administrators manage infrastructure throughout its lifecycle,
                from <strong>provisioning and configuration</strong> to patch management and compliance.</p>
            <code class="pre console">$ puppet apply dev.pp</code>
            <ul>
                <li><span class="plus">+</span> Use for any type of packages</li>
                <li><span class="plus">+</span> Reproducible environment</li>
                <li><span class="minus">-</span> Learn Puppet</li>
            </ul>
        </div>
        <div id="vagrant" class="step slide" data-x="1500" data-y="-1500">
            <h1>Isolated Env: Vagrant</h1>
            <p class="definition">
                <code>vagrant</code> Create and configure lightweight, reproducible,
                and portable development environments.
            </p>
            <code class="pre console">$ vagrant up</code>
            <ul>
                <li><span class="plus">+</span> Isolated environment</li>
                <li><span class="plus">+</span> Shareable environment</li>
                <li><span class="plus">-</span> Perfomance</li>
            </ul>
        </div>
        <div id="vagrantpuppet" class="step slide" data-x="3000" data-y="-1500">
            <h1>Vagrant & Puppet</h1>
<code class="pre">Vagrant::Config.run do |config|

    config.vm.host_name = "dev_on_production"
    config.vm.box = "precise64"
    config.vm.box_url = "http://files.vagrantup.com/precise64.box"
    config.vm.forward_port 80, 8000
    config.vm.share_folder "source", "/opt/devpro/sources", "."

    <strong>config.vm.provision :puppet do |puppet|
        puppet.manifests_path = "puppet"
        puppet.module_path = "puppet/modules"
        puppet.manifest_file  = "dev.pp"
        puppet.options = "--verbose --debug"
    end</strong>
end</code>
<code class="pre console">$ vagrant provision</code>
        </div>
        <div id="fabric" class="step slide" data-x="4500" data-y="-1500">
            <h1>Remote update? Fabric</h1>
            <p class="definition"><code>fabric</code> is a Python library and command-line tool for streamlining the use of SSH for application deployment or systems administration tasks.</p>
<code class="pre">from fabric.api import run, env

env.hosts = ['srv01.devpro.sophilabs.com', 'srv02.devpro.sophilabs.com']
env.user = 'devpro'

def list():
    run('ls')</code>
<code class="pre console">$ fab list</code>
        </div>
        <div id="architecture" class="step" data-x="0" data-y="5000">
            <div class="dev">
                <span class="title">Dev</span>
                <div class="vm">
                    <span class="title">VM</span>
                    <div class="env">
                        <span class="title">Puppet</span>
                        <span class="title">VirtualEnv</span>
                        <span class="title">App</span>
                    </div>
                </div>
                <div class="vagrant">
                    <span class="title">Vagrant</span>
                </div>
            </div>
            <div class="test">
                <span class="title">Test</span>
                <div class="vm">
                    <span class="title">VM</span>
                    <div class="env">
                        <span class="title">Puppet</span>
                        <span class="title">VirtualEnv</span>
                        <span class="title">App</span>
                    </div>
                </div>
                <div class="vagrant">
                    <span class="title">Vagrant</span>
                </div>
            </div>
            <div class="pro">
                <span class="title">Pro</span>
                <div class="env">
                    <span class="title">Puppet</span>
                    <span class="title">VirtualEnv</span>
                    <span class="title">App</span>
                </div>
            </div>
            <div class="remote">

            </div>
        </div>
        <div id="debug" class="step slide" data-x="6000" data-y="-1500">
            <h1>Debug? Sure</h1>
            <ul>
                <li><strong>PyDev</strong>
                    <a href="http://pydev.org/manual_adv_remote_debugger.html">
                        pydev.org/manual_adv_remote_debugger.html
                    </a>
                </li>
                <li><strong>PyCharm</strong>
                    <a href="http://www.jetbrains.com/pycharm/webhelp/remote-debugging-2.html">
                        www.jetbrains.com/pycharm/webhelp/remote-debugging-2.html
                    </a>
                </li>
            </ul>
        </div>
        <div id="summary" class="step slide" data-x="7500" data-y="-1500">
            <h1>Summary</h1>
            <ul>
                <li><span class="plus">✔</span> Bootstrap time => <code>puppet or vm</code></li>
                <li><span class="plus">✔</span> Different envs => <code>puppet + virtualenv</code></li>
                <li><span class="plus">✔</span> On changes update all envs <code>fabric + puppet</code></li>
                <li><span class="plus">✔</span> Clone envs => <code>vagrant</code></li>
                <li><span class="plus">✔</span> Multiple dev envs => <code>vagrant</code></li>
                <li><span class="minus">✘</span> Rapid development</li>
                <li><span class="minus">✘</span> Easy debugging</li>
            </ul>
        </div>
        <div id="end" class="step" data-x="0" data-y="10000" data-rotate="90" data-scale="5">
            <h1>Thanks!</h1>
            <img src="http://octodex.github.com/images/pythocat.png">
            <a href="//github.com/sophilabs/dev-on-production">sophilabs/dev-on-production</a>
        </div>
    </div>

    <script src="js/impress.js"></script>
    <script>impress().init();</script>
</body>
</html>
